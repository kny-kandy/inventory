<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PlusMore - íŒë§¤ì²˜ ì£¼ë¬¸ìˆ˜ì§‘</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/responsive.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <header class="header">
        <div class="header-content">
            <a href="../index.html" class="logo">
                <div class="logo-icon">P</div>
                plusmore
            </a>
            
            <nav class="nav-menu">
                <a href="#" class="nav-item">ë¡œê·¸ì œì¶œ</a>
                <a href="product-list.html" class="nav-item">ìƒí’ˆê´€ë¦¬</a>
                <a href="#" class="nav-item">ë°°ì†¡ê´€ë¦¬</a>
                <a href="stock-list.html" class="nav-item">ì¬ê³ ê´€ë¦¬</a>
                <a href="#" class="nav-item">CSê´€ë¦¬</a>
                <a href="#" class="nav-item">ì§ì—…/ì—…ë¬´ê´€ë¦¬</a>
                <a href="#" class="nav-item">í†µê³„</a>
                <a href="#" class="nav-item">ì •ì‚°</a>
                <a href="#" class="nav-item">í™˜ê²½ì„¤ì •</a>
            </nav>

            <div class="user-section">
                <button class="icon-btn">ğŸ“„</button>
                <button class="icon-btn">âœ‰ï¸</button>
                <div class="user-info">
                    <div class="user-avatar">ê¹€</div>
                    <span>ê¹€ì„±ë¹ˆ</span>
                    <span>â–¼</span>
                </div>
            </div>
        </div>
    </header>
        <!-- Sidebar Navigation -->
        <nav class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h2>PlusMore Admin</h2>
                <button class="sidebar-toggle" id="sidebarToggle">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
            
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="../index.html" class="nav-link">
                        <i class="fas fa-tachometer-alt"></i>
                        <span>ëŒ€ì‹œë³´ë“œ</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="purchase-history.html" class="nav-link">
                        <i class="fas fa-history"></i>
                        <span>ë°œì£¼ ë‚´ì—­</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="product-list.html" class="nav-link">
                        <i class="fas fa-box"></i>
                        <span>ìƒí’ˆëª©ë¡</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="purchase-request.html" class="nav-link">
                        <i class="fas fa-shopping-cart"></i>
                        <span>ë°œì£¼ ìš”ì²­</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="purchase-orders.html" class="nav-link">
                        <i class="fas fa-clipboard-list"></i>
                        <span>ë°œì£¼ëª©ë¡</span>
                    </a>
                </li>
                <li class="nav-item active">
                    <a href="sales-collection.html" class="nav-link">
                        <i class="fas fa-store"></i>
                        <span>íŒë§¤ì²˜ ì£¼ë¬¸ìˆ˜ì§‘</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="order-list.html" class="nav-link">
                        <i class="fas fa-list"></i>
                        <span>ì£¼ë¬¸ëª©ë¡</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="invoice-reply.html" class="nav-link">
                        <i class="fas fa-reply"></i>
                        <span>ì†¡ì¥ë²ˆí˜¸ íšŒì‹ </span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="matching-manager.html" class="nav-link">
                        <i class="fas fa-link"></i>
                        <span>ë§¤ì¹­ ê´€ë¦¬</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="stock-list.html" class="nav-link">
                        <i class="fas fa-warehouse"></i>
                        <span>ì¬ê³ ëª©ë¡</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="location-manager.html" class="nav-link">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>ë¡œì¼€ì´ì…˜ ê´€ë¦¬</span>
                    </a>
                </li>
            </ul>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <header class="top-header">
                <div class="header-left">
                    <h1>íŒë§¤ì²˜ ì£¼ë¬¸ìˆ˜ì§‘</h1>
                    <nav class="breadcrumb"></nav>
                </div>
                <div class="header-right">
                    <div class="user-info">
                        <span class="user-name">ê´€ë¦¬ì</span>
                        <i class="fas fa-user-circle"></i>
                    </div>
                </div>
            </header>

            <div class="page-content">
                <!-- Connection Status -->
                <div class="connection-status">
                    <div class="status-card">
                        <div class="status-header">
                            <h3>ì—°ê²° ìƒíƒœ</h3>
                            <button class="btn btn-primary" id="refreshConnections">
                                <i class="fas fa-sync-alt"></i> ìƒˆë¡œê³ ì¹¨
                            </button>
                        </div>
                        <div class="status-grid">
                            <div class="status-item connected">
                                <i class="fas fa-check-circle"></i>
                                <span>ì¿ íŒ¡</span>
                                <small>ë§ˆì§€ë§‰ ìˆ˜ì§‘: 5ë¶„ ì „</small>
                            </div>
                            <div class="status-item connected">
                                <i class="fas fa-check-circle"></i>
                                <span>11ë²ˆê°€</span>
                                <small>ë§ˆì§€ë§‰ ìˆ˜ì§‘: 3ë¶„ ì „</small>
                            </div>
                            <div class="status-item connected">
                                <i class="fas fa-check-circle"></i>
                                <span>Gë§ˆì¼“</span>
                                <small>ë§ˆì§€ë§‰ ìˆ˜ì§‘: 7ë¶„ ì „</small>
                            </div>
                            <div class="status-item disconnected">
                                <i class="fas fa-times-circle"></i>
                                <span>ì˜¥ì…˜</span>
                                <small>ì—°ê²° ì˜¤ë¥˜</small>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Collection Controls -->
                <div class="collection-controls">
                    <div class="control-card">
                        <h3>ìˆ˜ì§‘ ì„¤ì •</h3>
                        <div class="control-group">
                            <label for="autoCollection">ìë™ ìˆ˜ì§‘</label>
                            <div class="toggle-switch">
                                <input type="checkbox" id="autoCollection" checked>
                                <label for="autoCollection"></label>
                            </div>
                        </div>
                        <div class="control-group">
                            <label for="collectionInterval">ìˆ˜ì§‘ ê°„ê²©</label>
                            <select id="collectionInterval" class="form-control">
                                <option value="5">5ë¶„</option>
                                <option value="10" selected>10ë¶„</option>
                                <option value="15">15ë¶„</option>
                                <option value="30">30ë¶„</option>
                            </select>
                        </div>
                        <div class="control-group">
                            <label for="salesChannels">ìˆ˜ì§‘í•  íŒë§¤ì²˜</label>
                            <div class="checkbox-group">
                                <label class="checkbox-item">
                                    <input type="checkbox" value="coupang" checked>
                                    <span>ì¿ íŒ¡</span>
                                </label>
                                <label class="checkbox-item">
                                    <input type="checkbox" value="11st" checked>
                                    <span>11ë²ˆê°€</span>
                                </label>
                                <label class="checkbox-item">
                                    <input type="checkbox" value="gmarket" checked>
                                    <span>Gë§ˆì¼“</span>
                                </label>
                                <label class="checkbox-item">
                                    <input type="checkbox" value="auction">
                                    <span>ì˜¥ì…˜</span>
                                </label>
                            </div>
                        </div>
                        <div class="control-actions">
                            <button class="btn btn-primary" id="startCollection">
                                <i class="fas fa-play"></i> ìˆ˜ì§‘ ì‹œì‘
                            </button>
                            <button class="btn btn-secondary" id="stopCollection">
                                <i class="fas fa-stop"></i> ìˆ˜ì§‘ ì¤‘ì§€
                            </button>
                            <button class="btn btn-info" id="manualCollection">
                                <i class="fas fa-download"></i> ìˆ˜ë™ ìˆ˜ì§‘
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Statistics Cards -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-shopping-cart"></i>
                        </div>
                        <div class="stat-info">
                            <h3>ì˜¤ëŠ˜ ìˆ˜ì§‘ëœ ì£¼ë¬¸</h3>
                            <p class="stat-number">234</p>
                            <span class="stat-change positive">+18.5%</span>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-info">
                            <h3>ëŒ€ê¸°ì¤‘ì¸ ì£¼ë¬¸</h3>
                            <p class="stat-number">45</p>
                            <span class="stat-change negative">+12.3%</span>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="stat-info">
                            <h3>ì²˜ë¦¬ëœ ì£¼ë¬¸</h3>
                            <p class="stat-number">189</p>
                            <span class="stat-change positive">+15.7%</span>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <div class="stat-info">
                            <h3>ì˜¤ë¥˜ ë°œìƒ</h3>
                            <p class="stat-number">3</p>
                            <span class="stat-change negative">+1</span>
                        </div>
                    </div>
                </div>

                <!-- Recent Collections -->
                <div class="recent-collections">
                    <div class="section-header">
                        <h3>ìµœê·¼ ìˆ˜ì§‘ ë‚´ì—­</h3>
                        <button class="btn btn-secondary" id="viewAllCollections">
                            ì „ì²´ë³´ê¸°
                        </button>
                    </div>
                    
                    <div class="collection-list">
                        <div class="collection-item">
                            <div class="collection-info">
                                <div class="channel-info">
                                    <i class="fas fa-shopping-bag"></i>
                                    <span>ì¿ íŒ¡</span>
                                </div>
                                <div class="order-count">
                                    <span class="count">15</span>
                                    <small>ìƒˆ ì£¼ë¬¸</small>
                                </div>
                                <div class="collection-time">
                                    <span>2ë¶„ ì „</span>
                                </div>
                            </div>
                            <div class="collection-status success">
                                <i class="fas fa-check"></i>
                                <span>ì„±ê³µ</span>
                            </div>
                        </div>
                        
                        <div class="collection-item">
                            <div class="collection-info">
                                <div class="channel-info">
                                    <i class="fas fa-store"></i>
                                    <span>11ë²ˆê°€</span>
                                </div>
                                <div class="order-count">
                                    <span class="count">8</span>
                                    <small>ìƒˆ ì£¼ë¬¸</small>
                                </div>
                                <div class="collection-time">
                                    <span>5ë¶„ ì „</span>
                                </div>
                            </div>
                            <div class="collection-status success">
                                <i class="fas fa-check"></i>
                                <span>ì„±ê³µ</span>
                            </div>
                        </div>
                        
                        <div class="collection-item">
                            <div class="collection-info">
                                <div class="channel-info">
                                    <i class="fas fa-shopping-cart"></i>
                                    <span>Gë§ˆì¼“</span>
                                </div>
                                <div class="order-count">
                                    <span class="count">12</span>
                                    <small>ìƒˆ ì£¼ë¬¸</small>
                                </div>
                                <div class="collection-time">
                                    <span>7ë¶„ ì „</span>
                                </div>
                            </div>
                            <div class="collection-status success">
                                <i class="fas fa-check"></i>
                                <span>ì„±ê³µ</span>
                            </div>
                        </div>
                        
                        <div class="collection-item">
                            <div class="collection-info">
                                <div class="channel-info">
                                    <i class="fas fa-gavel"></i>
                                    <span>ì˜¥ì…˜</span>
                                </div>
                                <div class="order-count">
                                    <span class="count">0</span>
                                    <small>ìƒˆ ì£¼ë¬¸</small>
                                </div>
                                <div class="collection-time">
                                    <span>10ë¶„ ì „</span>
                                </div>
                            </div>
                            <div class="collection-status error">
                                <i class="fas fa-times"></i>
                                <span>ì˜¤ë¥˜</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Error Log -->
                <div class="error-log">
                    <div class="section-header">
                        <h3>ì˜¤ë¥˜ ë¡œê·¸</h3>
                        <button class="btn btn-secondary" id="clearErrors">
                            ë¡œê·¸ ì§€ìš°ê¸°
                        </button>
                    </div>
                    
                    <div class="error-list">
                        <div class="error-item">
                            <div class="error-time">2024-01-20 14:30:25</div>
                            <div class="error-message">ì˜¥ì…˜ API ì—°ê²° ì‹¤íŒ¨: ì¸ì¦ í† í° ë§Œë£Œ</div>
                            <div class="error-actions">
                                <button class="btn btn-sm btn-primary">ì¬ì‹œë„</button>
                                <button class="btn btn-sm btn-secondary">ì„¤ì •</button>
                            </div>
                        </div>
                        
                        <div class="error-item">
                            <div class="error-time">2024-01-20 14:25:10</div>
                            <div class="error-message">Gë§ˆì¼“ ì£¼ë¬¸ íŒŒì‹± ì˜¤ë¥˜: ì˜ëª»ëœ JSON í˜•ì‹</div>
                            <div class="error-actions">
                                <button class="btn btn-sm btn-primary">ì¬ì‹œë„</button>
                                <button class="btn btn-sm btn-secondary">ì„¤ì •</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="../js/main.js"></script>
    <script src="../js/navigation.js"></script>
    <script src="../js/components.js"></script>
    <script>
        // Collection control functionality
        document.getElementById('startCollection').addEventListener('click', function() {
            console.log('Starting collection...');
            this.disabled = true;
            document.getElementById('stopCollection').disabled = false;
            
            if (window.plusMoreAdmin) {
                window.plusMoreAdmin.showNotification('ì£¼ë¬¸ ìˆ˜ì§‘ì´ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
            }
        });

        document.getElementById('stopCollection').addEventListener('click', function() {
            console.log('Stopping collection...');
            this.disabled = true;
            document.getElementById('startCollection').disabled = false;
            
            if (window.plusMoreAdmin) {
                window.plusMoreAdmin.showNotification('ì£¼ë¬¸ ìˆ˜ì§‘ì´ ì¤‘ì§€ë˜ì—ˆìŠµë‹ˆë‹¤.', 'info');
            }
        });

        document.getElementById('manualCollection').addEventListener('click', function() {
            console.log('Manual collection...');
            
            // Show loading state
            this.innerHTML = '<i class="fas fa-spinner fa-spin"></i> ìˆ˜ì§‘ ì¤‘...';
            this.disabled = true;
            
            // Simulate collection process
            setTimeout(() => {
                this.innerHTML = '<i class="fas fa-download"></i> ìˆ˜ë™ ìˆ˜ì§‘';
                this.disabled = false;
                
                if (window.plusMoreAdmin) {
                    window.plusMoreAdmin.showNotification('ìˆ˜ë™ ìˆ˜ì§‘ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
                }
            }, 3000);
        });

        // Refresh connections
        document.getElementById('refreshConnections').addEventListener('click', function() {
            console.log('Refreshing connections...');
            
            this.innerHTML = '<i class="fas fa-spinner fa-spin"></i> ìƒˆë¡œê³ ì¹¨ ì¤‘...';
            this.disabled = true;
            
            setTimeout(() => {
                this.innerHTML = '<i class="fas fa-sync-alt"></i> ìƒˆë¡œê³ ì¹¨';
                this.disabled = false;
                
                if (window.plusMoreAdmin) {
                    window.plusMoreAdmin.showNotification('ì—°ê²° ìƒíƒœê°€ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤.', 'info');
                }
            }, 2000);
        });

        // Auto collection toggle
        document.getElementById('autoCollection').addEventListener('change', function() {
            console.log('Auto collection:', this.checked);
            
            if (window.plusMoreAdmin) {
                const message = this.checked ? 'ìë™ ìˆ˜ì§‘ì´ í™œì„±í™”ë˜ì—ˆìŠµë‹ˆë‹¤.' : 'ìë™ ìˆ˜ì§‘ì´ ë¹„í™œì„±í™”ë˜ì—ˆìŠµë‹ˆë‹¤.';
                window.plusMoreAdmin.showNotification(message, 'info');
            }
        });

        // Collection interval change
        document.getElementById('collectionInterval').addEventListener('change', function() {
            console.log('Collection interval:', this.value);
            
            if (window.plusMoreAdmin) {
                window.plusMoreAdmin.showNotification(`ìˆ˜ì§‘ ê°„ê²©ì´ ${this.value}ë¶„ìœ¼ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.`, 'info');
            }
        });

        // View all collections
        document.getElementById('viewAllCollections').addEventListener('click', function() {
            console.log('View all collections');
            // Navigate to detailed collection history
        });

        // Clear errors
        document.getElementById('clearErrors').addEventListener('click', function() {
            if (confirm('ëª¨ë“  ì˜¤ë¥˜ ë¡œê·¸ë¥¼ ì§€ìš°ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                document.querySelector('.error-list').innerHTML = '';
                
                if (window.plusMoreAdmin) {
                    window.plusMoreAdmin.showNotification('ì˜¤ë¥˜ ë¡œê·¸ê°€ ì§€ì›Œì¡ŒìŠµë‹ˆë‹¤.', 'info');
                }
            }
        });

        // Error retry functionality
        document.addEventListener('click', function(e) {
            if (e.target.textContent === 'ì¬ì‹œë„') {
                console.log('Retrying error...');
                e.target.innerHTML = '<i class="fas fa-spinner fa-spin"></i> ì¬ì‹œë„ ì¤‘...';
                e.target.disabled = true;
                
                setTimeout(() => {
                    e.target.innerHTML = 'ì¬ì‹œë„';
                    e.target.disabled = false;
                    
                    if (window.plusMoreAdmin) {
                        window.plusMoreAdmin.showNotification('ì¬ì‹œë„ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
                    }
                }, 2000);
            }
        });

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            // Set initial states
            document.getElementById('stopCollection').disabled = true;
            
            // Start auto collection if enabled
            if (document.getElementById('autoCollection').checked) {
                console.log('Auto collection is enabled');
            }
        });
    </script>
</body>
</html> 