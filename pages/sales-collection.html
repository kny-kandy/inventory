<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PlusMore - ÌåêÎß§Ï≤ò Ï£ºÎ¨∏ÏàòÏßë</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/responsive.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <header class="header">
        <div class="header-content">
            <a href="../index.html" class="logo">
                <div class="logo-icon">P</div>
                plusmore
            </a>
            
            <nav class="nav-menu">
                <a href="#" class="nav-item">Î°úÍ∑∏Ï†úÏ∂ú</a>
                <a href="product-list.html" class="nav-item">ÏÉÅÌíàÍ¥ÄÎ¶¨</a>
                <a href="#" class="nav-item">Î∞∞ÏÜ°Í¥ÄÎ¶¨</a>
                <a href="stock-list.html" class="nav-item">Ïû¨Í≥†Í¥ÄÎ¶¨</a>
                <a href="#" class="nav-item">CSÍ¥ÄÎ¶¨</a>
                <a href="#" class="nav-item">ÏßÅÏóÖ/ÏóÖÎ¨¥Í¥ÄÎ¶¨</a>
                <a href="#" class="nav-item">ÌÜµÍ≥Ñ</a>
                <a href="#" class="nav-item">Ï†ïÏÇ∞</a>
                <a href="#" class="nav-item">ÌôòÍ≤ΩÏÑ§Ï†ï</a>
            </nav>

            <div class="user-section">
                <button class="icon-btn">üìÑ</button>
                <button class="icon-btn">‚úâÔ∏è</button>
                <div class="user-info">
                    <div class="user-avatar">ÍπÄ</div>
                    <span>ÍπÄÏÑ±Îπà</span>
                    <span>‚ñº</span>
                </div>
            </div>
        </div>
    </header>
        <!-- Sidebar Navigation -->
        <nav class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h2>PlusMore Admin</h2>
                <button class="sidebar-toggle" id="sidebarToggle">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
            
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="../index.html" class="nav-link">
                        <i class="fas fa-tachometer-alt"></i>
                        <span>ÎåÄÏãúÎ≥¥Îìú</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="purchase-history.html" class="nav-link">
                        <i class="fas fa-history"></i>
                        <span>Î∞úÏ£º ÎÇ¥Ïó≠</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="product-list.html" class="nav-link">
                        <i class="fas fa-box"></i>
                        <span>ÏÉÅÌíàÎ™©Î°ù</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="purchase-request.html" class="nav-link">
                        <i class="fas fa-shopping-cart"></i>
                        <span>Î∞úÏ£º ÏöîÏ≤≠</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="purchase-orders.html" class="nav-link">
                        <i class="fas fa-clipboard-list"></i>
                        <span>Î∞úÏ£ºÎ™©Î°ù</span>
                    </a>
                </li>
                <li class="nav-item active">
                    <a href="sales-collection.html" class="nav-link">
                        <i class="fas fa-store"></i>
                        <span>ÌåêÎß§Ï≤ò Ï£ºÎ¨∏ÏàòÏßë</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="order-list.html" class="nav-link">
                        <i class="fas fa-list"></i>
                        <span>Ï£ºÎ¨∏Î™©Î°ù</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="invoice-reply.html" class="nav-link">
                        <i class="fas fa-reply"></i>
                        <span>ÏÜ°Ïû•Î≤àÌò∏ ÌöåÏã†</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="matching-manager.html" class="nav-link">
                        <i class="fas fa-link"></i>
                        <span>Îß§Ïπ≠ Í¥ÄÎ¶¨</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="stock-list.html" class="nav-link">
                        <i class="fas fa-warehouse"></i>
                        <span>Ïû¨Í≥†Î™©Î°ù</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="location-manager.html" class="nav-link">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>Î°úÏºÄÏù¥ÏÖò Í¥ÄÎ¶¨</span>
                    </a>
                </li>
            </ul>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <header class="top-header">
                <div class="header-left">
                    <h1>ÌåêÎß§Ï≤ò Ï£ºÎ¨∏ÏàòÏßë</h1>
                    <nav class="breadcrumb"></nav>
                </div>
                <div class="header-right">
                    <div class="user-info">
                        <span class="user-name">Í¥ÄÎ¶¨Ïûê</span>
                        <i class="fas fa-user-circle"></i>
                    </div>
                </div>
            </header>

            <div class="page-content">
                <!-- Connection Status -->
                <div class="connection-status">
                    <div class="status-card">
                        <div class="status-header">
                            <h3>Ïó∞Í≤∞ ÏÉÅÌÉú</h3>
                            <button class="btn btn-primary" id="refreshConnections">
                                <i class="fas fa-sync-alt"></i> ÏÉàÎ°úÍ≥†Ïπ®
                            </button>
                        </div>
                        <div class="status-grid">
                            <div class="status-item connected">
                                <i class="fas fa-check-circle"></i>
                                <span>Ïø†Ìå°</span>
                                <small>ÎßàÏßÄÎßâ ÏàòÏßë: 5Î∂Ñ Ï†Ñ</small>
                            </div>
                            <div class="status-item connected">
                                <i class="fas fa-check-circle"></i>
                                <span>11Î≤àÍ∞Ä</span>
                                <small>ÎßàÏßÄÎßâ ÏàòÏßë: 3Î∂Ñ Ï†Ñ</small>
                            </div>
                            <div class="status-item connected">
                                <i class="fas fa-check-circle"></i>
                                <span>GÎßàÏºì</span>
                                <small>ÎßàÏßÄÎßâ ÏàòÏßë: 7Î∂Ñ Ï†Ñ</small>
                            </div>
                            <div class="status-item disconnected">
                                <i class="fas fa-times-circle"></i>
                                <span>Ïò•ÏÖò</span>
                                <small>Ïó∞Í≤∞ Ïò§Î•ò</small>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Collection Controls -->
                <div class="collection-controls">
                    <div class="control-card">
                        <h3>ÏàòÏßë ÏÑ§Ï†ï</h3>
                        <div class="control-group">
                            <label for="autoCollection">ÏûêÎèô ÏàòÏßë</label>
                            <div class="toggle-switch">
                                <input type="checkbox" id="autoCollection" checked>
                                <label for="autoCollection"></label>
                            </div>
                        </div>
                        <div class="control-group">
                            <label for="collectionInterval">ÏàòÏßë Í∞ÑÍ≤©</label>
                            <select id="collectionInterval" class="form-control">
                                <option value="5">5Î∂Ñ</option>
                                <option value="10" selected>10Î∂Ñ</option>
                                <option value="15">15Î∂Ñ</option>
                                <option value="30">30Î∂Ñ</option>
                            </select>
                        </div>
                        <div class="control-group">
                            <label for="salesChannels">ÏàòÏßëÌï† ÌåêÎß§Ï≤ò</label>
                            <div class="checkbox-group">
                                <label class="checkbox-item">
                                    <input type="checkbox" value="coupang" checked>
                                    <span>Ïø†Ìå°</span>
                                </label>
                                <label class="checkbox-item">
                                    <input type="checkbox" value="11st" checked>
                                    <span>11Î≤àÍ∞Ä</span>
                                </label>
                                <label class="checkbox-item">
                                    <input type="checkbox" value="gmarket" checked>
                                    <span>GÎßàÏºì</span>
                                </label>
                                <label class="checkbox-item">
                                    <input type="checkbox" value="auction">
                                    <span>Ïò•ÏÖò</span>
                                </label>
                            </div>
                        </div>
                        <div class="control-actions">
                            <button class="btn btn-primary" id="startCollection">
                                <i class="fas fa-play"></i> ÏàòÏßë ÏãúÏûë
                            </button>
                            <button class="btn btn-secondary" id="stopCollection">
                                <i class="fas fa-stop"></i> ÏàòÏßë Ï§ëÏßÄ
                            </button>
                            <button class="btn btn-info" id="manualCollection">
                                <i class="fas fa-download"></i> ÏàòÎèô ÏàòÏßë
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Statistics Cards -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-shopping-cart"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Ïò§Îäò ÏàòÏßëÎêú Ï£ºÎ¨∏</h3>
                            <p class="stat-number">234</p>
                            <span class="stat-change positive">+18.5%</span>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-info">
                            <h3>ÎåÄÍ∏∞Ï§ëÏù∏ Ï£ºÎ¨∏</h3>
                            <p class="stat-number">45</p>
                            <span class="stat-change negative">+12.3%</span>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Ï≤òÎ¶¨Îêú Ï£ºÎ¨∏</h3>
                            <p class="stat-number">189</p>
                            <span class="stat-change positive">+15.7%</span>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Ïò§Î•ò Î∞úÏÉù</h3>
                            <p class="stat-number">3</p>
                            <span class="stat-change negative">+1</span>
                        </div>
                    </div>
                </div>

                <!-- Recent Collections -->
                <div class="recent-collections">
                    <div class="section-header">
                        <h3>ÏµúÍ∑º ÏàòÏßë ÎÇ¥Ïó≠</h3>
                        <button class="btn btn-secondary" id="viewAllCollections">
                            Ï†ÑÏ≤¥Î≥¥Í∏∞
                        </button>
                    </div>
                    
                    <div class="collection-list">
                        <div class="collection-item">
                            <div class="collection-info">
                                <div class="channel-info">
                                    <i class="fas fa-shopping-bag"></i>
                                    <span>Ïø†Ìå°</span>
                                </div>
                                <div class="order-count">
                                    <span class="count">15</span>
                                    <small>ÏÉà Ï£ºÎ¨∏</small>
                                </div>
                                <div class="collection-time">
                                    <span>2Î∂Ñ Ï†Ñ</span>
                                </div>
                            </div>
                            <div class="collection-status success">
                                <i class="fas fa-check"></i>
                                <span>ÏÑ±Í≥µ</span>
                            </div>
                        </div>
                        
                        <div class="collection-item">
                            <div class="collection-info">
                                <div class="channel-info">
                                    <i class="fas fa-store"></i>
                                    <span>11Î≤àÍ∞Ä</span>
                                </div>
                                <div class="order-count">
                                    <span class="count">8</span>
                                    <small>ÏÉà Ï£ºÎ¨∏</small>
                                </div>
                                <div class="collection-time">
                                    <span>5Î∂Ñ Ï†Ñ</span>
                                </div>
                            </div>
                            <div class="collection-status success">
                                <i class="fas fa-check"></i>
                                <span>ÏÑ±Í≥µ</span>
                            </div>
                        </div>
                        
                        <div class="collection-item">
                            <div class="collection-info">
                                <div class="channel-info">
                                    <i class="fas fa-shopping-cart"></i>
                                    <span>GÎßàÏºì</span>
                                </div>
                                <div class="order-count">
                                    <span class="count">12</span>
                                    <small>ÏÉà Ï£ºÎ¨∏</small>
                                </div>
                                <div class="collection-time">
                                    <span>7Î∂Ñ Ï†Ñ</span>
                                </div>
                            </div>
                            <div class="collection-status success">
                                <i class="fas fa-check"></i>
                                <span>ÏÑ±Í≥µ</span>
                            </div>
                        </div>
                        
                        <div class="collection-item">
                            <div class="collection-info">
                                <div class="channel-info">
                                    <i class="fas fa-gavel"></i>
                                    <span>Ïò•ÏÖò</span>
                                </div>
                                <div class="order-count">
                                    <span class="count">0</span>
                                    <small>ÏÉà Ï£ºÎ¨∏</small>
                                </div>
                                <div class="collection-time">
                                    <span>10Î∂Ñ Ï†Ñ</span>
                                </div>
                            </div>
                            <div class="collection-status error">
                                <i class="fas fa-times"></i>
                                <span>Ïò§Î•ò</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Error Log -->
                <div class="error-log">
                    <div class="section-header">
                        <h3>Ïò§Î•ò Î°úÍ∑∏</h3>
                        <button class="btn btn-secondary" id="clearErrors">
                            Î°úÍ∑∏ ÏßÄÏö∞Í∏∞
                        </button>
                    </div>
                    
                    <div class="error-list">
                        <div class="error-item">
                            <div class="error-time">2024-01-20 14:30:25</div>
                            <div class="error-message">Ïò•ÏÖò API Ïó∞Í≤∞ Ïã§Ìå®: Ïù∏Ï¶ù ÌÜ†ÌÅ∞ ÎßåÎ£å</div>
                            <div class="error-actions">
                                <button class="btn btn-sm btn-primary">Ïû¨ÏãúÎèÑ</button>
                                <button class="btn btn-sm btn-secondary">ÏÑ§Ï†ï</button>
                            </div>
                        </div>
                        
                        <div class="error-item">
                            <div class="error-time">2024-01-20 14:25:10</div>
                            <div class="error-message">GÎßàÏºì Ï£ºÎ¨∏ ÌååÏã± Ïò§Î•ò: ÏûòÎ™ªÎêú JSON ÌòïÏãù</div>
                            <div class="error-actions">
                                <button class="btn btn-sm btn-primary">Ïû¨ÏãúÎèÑ</button>
                                <button class="btn btn-sm btn-secondary">ÏÑ§Ï†ï</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="../js/main.js"></script>
    <script src="../js/navigation.js"></script>
    <script src="../js/components.js"></script>
    <script>
        // Collection control functionality
        document.getElementById('startCollection').addEventListener('click', function() {
            console.log('Starting collection...');
            this.disabled = true;
            document.getElementById('stopCollection').disabled = false;
            
            if (window.plusMoreAdmin) {
                window.plusMoreAdmin.showNotification('Ï£ºÎ¨∏ ÏàòÏßëÏù¥ ÏãúÏûëÎêòÏóàÏäµÎãàÎã§.', 'success');
            }
        });

        document.getElementById('stopCollection').addEventListener('click', function() {
            console.log('Stopping collection...');
            this.disabled = true;
            document.getElementById('startCollection').disabled = false;
            
            if (window.plusMoreAdmin) {
                window.plusMoreAdmin.showNotification('Ï£ºÎ¨∏ ÏàòÏßëÏù¥ Ï§ëÏßÄÎêòÏóàÏäµÎãàÎã§.', 'info');
            }
        });

        document.getElementById('manualCollection').addEventListener('click', function() {
            console.log('Manual collection...');
            
            // Show loading state
            this.innerHTML = '<i class="fas fa-spinner fa-spin"></i> ÏàòÏßë Ï§ë...';
            this.disabled = true;
            
            // Simulate collection process
            setTimeout(() => {
                this.innerHTML = '<i class="fas fa-download"></i> ÏàòÎèô ÏàòÏßë';
                this.disabled = false;
                
                if (window.plusMoreAdmin) {
                    window.plusMoreAdmin.showNotification('ÏàòÎèô ÏàòÏßëÏù¥ ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§.', 'success');
                }
            }, 3000);
        });

        // Refresh connections
        document.getElementById('refreshConnections').addEventListener('click', function() {
            console.log('Refreshing connections...');
            
            this.innerHTML = '<i class="fas fa-spinner fa-spin"></i> ÏÉàÎ°úÍ≥†Ïπ® Ï§ë...';
            this.disabled = true;
            
            setTimeout(() => {
                this.innerHTML = '<i class="fas fa-sync-alt"></i> ÏÉàÎ°úÍ≥†Ïπ®';
                this.disabled = false;
                
                if (window.plusMoreAdmin) {
                    window.plusMoreAdmin.showNotification('Ïó∞Í≤∞ ÏÉÅÌÉúÍ∞Ä ÏóÖÎç∞Ïù¥Ìä∏ÎêòÏóàÏäµÎãàÎã§.', 'info');
                }
            }, 2000);
        });

        // Auto collection toggle
        document.getElementById('autoCollection').addEventListener('change', function() {
            console.log('Auto collection:', this.checked);
            
            if (window.plusMoreAdmin) {
                const message = this.checked ? 'ÏûêÎèô ÏàòÏßëÏù¥ ÌôúÏÑ±ÌôîÎêòÏóàÏäµÎãàÎã§.' : 'ÏûêÎèô ÏàòÏßëÏù¥ ÎπÑÌôúÏÑ±ÌôîÎêòÏóàÏäµÎãàÎã§.';
                window.plusMoreAdmin.showNotification(message, 'info');
            }
        });

        // Collection interval change
        document.getElementById('collectionInterval').addEventListener('change', function() {
            console.log('Collection interval:', this.value);
            
            if (window.plusMoreAdmin) {
                window.plusMoreAdmin.showNotification(`ÏàòÏßë Í∞ÑÍ≤©Ïù¥ ${this.value}Î∂ÑÏúºÎ°ú Î≥ÄÍ≤ΩÎêòÏóàÏäµÎãàÎã§.`, 'info');
            }
        });

        // View all collections
        document.getElementById('viewAllCollections').addEventListener('click', function() {
            console.log('View all collections');
            // Navigate to detailed collection history
        });

        // Clear errors
        document.getElementById('clearErrors').addEventListener('click', function() {
            if (confirm('Î™®Îì† Ïò§Î•ò Î°úÍ∑∏Î•º ÏßÄÏö∞ÏãúÍ≤†ÏäµÎãàÍπå?')) {
                document.querySelector('.error-list').innerHTML = '';
                
                if (window.plusMoreAdmin) {
                    window.plusMoreAdmin.showNotification('Ïò§Î•ò Î°úÍ∑∏Í∞Ä ÏßÄÏõåÏ°åÏäµÎãàÎã§.', 'info');
                }
            }
        });

        // Error retry functionality
        document.addEventListener('click', function(e) {
            if (e.target.textContent === 'Ïû¨ÏãúÎèÑ') {
                console.log('Retrying error...');
                e.target.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Ïû¨ÏãúÎèÑ Ï§ë...';
                e.target.disabled = true;
                
                setTimeout(() => {
                    e.target.innerHTML = 'Ïû¨ÏãúÎèÑ';
                    e.target.disabled = false;
                    
                    if (window.plusMoreAdmin) {
                        window.plusMoreAdmin.showNotification('Ïû¨ÏãúÎèÑÍ∞Ä ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§.', 'success');
                    }
                }, 2000);
            }
        });

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            // Set initial states
            document.getElementById('stopCollection').disabled = true;
            
            // Start auto collection if enabled
            if (document.getElementById('autoCollection').checked) {
                console.log('Auto collection is enabled');
            }
        });
    </script>
</body>
</html> 